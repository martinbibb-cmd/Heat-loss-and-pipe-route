# Heating Design Application - Unraid Environment Configuration
# Copy this file to .env and fill in your values

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
# PostgreSQL database password
# IMPORTANT: Use a strong, unique password
DB_PASSWORD=changeme_strong_password_here

# ==============================================================================
# SECURITY CONFIGURATION
# ==============================================================================
# JWT secret for authentication tokens
# Generate with: openssl rand -hex 32
JWT_SECRET=changeme_jwt_secret_at_least_32_characters_long

# API key for external integrations (Atlas app, webhooks)
# Generate with: openssl rand -hex 24
API_KEY=changeme_api_key_for_atlas_integration

# Allowed CORS origins (comma-separated)
# Add your Unraid IP and any domains you'll access from
ALLOWED_ORIGINS=http://192.168.1.100:3000,http://heating.local,http://192.168.1.*

# ==============================================================================
# API CONFIGURATION
# ==============================================================================
# API URL for web frontend to connect to
# Replace with your Unraid server's IP address
API_URL=http://192.168.1.100:3001

# ==============================================================================
# ATLAS INTEGRATION (Optional)
# ==============================================================================
# Enable Atlas app integration
ATLAS_INTEGRATION=false

# Callback URL for Atlas to receive results
# Format: atlas://callback/heating-design
ATLAS_CALLBACK_URL=

# Webhook URL for Atlas notifications
ATLAS_WEBHOOK_URL=

# Enable webhook notifications
ENABLE_WEBHOOKS=false

# ==============================================================================
# LOGGING & DEBUGGING
# ==============================================================================
# Log level: error, warn, info, debug, trace
LOG_LEVEL=info

# ==============================================================================
# ADVANCED SETTINGS (Optional)
# ==============================================================================
# Maximum file upload size (default: 50MB)
# MAX_FILE_SIZE=50MB

# Maximum files per project (default: 10)
# MAX_FILES_PER_PROJECT=10

# Calculation timeout in milliseconds (default: 30000)
# CALC_TIMEOUT=30000

# ==============================================================================
# NETWORK CONFIGURATION
# ==============================================================================
# Your Unraid server IP address (update this!)
UNRAID_IP=192.168.1.100

# Custom hostnames (if using Unraid's DNS or /etc/hosts)
# HEATING_API_HOST=heating-api.local
# HEATING_WEB_HOST=heating.local

# ==============================================================================
# BACKUP CONFIGURATION (Optional)
# ==============================================================================
# Database backup retention (days)
# BACKUP_KEEP_DAYS=7
# BACKUP_KEEP_WEEKS=4
# BACKUP_KEEP_MONTHS=6

# ==============================================================================
# NOTES
# ==============================================================================
# 1. Never commit the .env file to version control
# 2. After editing, restart containers: docker compose down && docker compose up -d
# 3. Test API connection: curl http://YOUR_UNRAID_IP:3001/health
# 4. Web UI will be available at: http://YOUR_UNRAID_IP:3000
# 5. Database is exposed on port 5433 (PostgreSQL default is 5432)
